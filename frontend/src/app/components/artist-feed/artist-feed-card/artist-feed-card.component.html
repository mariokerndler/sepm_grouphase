<div *ngIf="isReady" class="artist-feed-card-container" fxLayout="row">
  <!-- Profile -->
  <div fxFlex="15" fxLayout="column" fxLayoutAlign="space-evenly center">
    <span fxFlex="10"></span>
    <img [src]="artistPfp" alt="{{artist.userName}} profile picture" class="artist-feed-card-pfp" fxFlex="30">
    <div fxFlex="40" fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="0.5rem">
      <span fxFlex="10"></span>
      <span class="artist-feed-card-userName accent-color" fxFlex="20">{{artist.userName}}</span>
      <span class="artist-feed-card-fullName accent-color" fxFlex="20">{{artist.name}} {{artist.surname}}</span>
    </div>
    <button (click)="navigateToArtist(artist)" color="accent" fxFlex="15" mat-button>Show me more</button>
    <span fxFlex="5"></span>
  </div>

  <!-- Artist images-->
  <div class="artist-feed-card-image-container" fxFlex="85">
    <cdk-virtual-scroll-viewport class="viewport" itemSize="{{artworks.length}}" orientation="horizontal">
      <div (click)="setSelectedArtwork(i)"
           *ngFor="let artwork of artworks; let i = index;"
           class="artist-feed-card-image-wrap">
        <img
          [alt]="artwork.name"
          [src]="globals.assetsPath + artwork.imageUrl"
          appHideMissing
          class="artist-feed-card-image-preview"
          loading="lazy">
        <div class="artist-feed-card-image-description-layer">
          <p class="artist-feed-card-image-description">
            {{globalFunctions.artworkNameParser(artwork.name)}}
          </p>
        </div>
      </div>
    </cdk-virtual-scroll-viewport>
  </div>
</div>

<div *ngIf="isReady" ng-focus="this.resetShown()">
  <app-gallery-carousel
    (closeCarousel)="resetSelectedArtwork()"
    *ngIf="selectedArtwork !== null"
    [artworks]="artworks"
    [selectedArtworkId]="selectedArtwork">
  </app-gallery-carousel>
</div>
